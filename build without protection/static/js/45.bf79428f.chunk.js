(this["webpackJsonp@coreui/coreui-pro-react-admin-template"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template"]||[]).push([[45],{309:function(t,e,n){"use strict";n.d(e,"k",(function(){return i})),n.d(e,"h",(function(){return u})),n.d(e,"c",(function(){return l})),n.d(e,"n",(function(){return f})),n.d(e,"l",(function(){return p})),n.d(e,"m",(function(){return h})),n.d(e,"j",(function(){return d})),n.d(e,"i",(function(){return m})),n.d(e,"s",(function(){return g})),n.d(e,"p",(function(){return y})),n.d(e,"t",(function(){return v})),n.d(e,"q",(function(){return w})),n.d(e,"b",(function(){return b})),n.d(e,"f",(function(){return C})),n.d(e,"e",(function(){return T})),n.d(e,"o",(function(){return j})),n.d(e,"a",(function(){return S})),n.d(e,"g",(function(){return E})),n.d(e,"d",(function(){return k})),n.d(e,"r",(function(){return x}));var r=n(290),a=n.n(r),o=n(291),c="http://f2.uppeople.space/api",s=function(){return localStorage.getItem("token")},i=function(t,e){var n=s();return fetch("".concat(c,"/main/returnAllCompanies/").concat(t,"/").concat(e),{method:"GET",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"}}).then((function(t){if(t.ok)return t.json();throw new Error("Error while fetching: ".concat(t.statusText))})).then((function(t){return{companies:t.companies.map((function(t){return{id:t.id,name:t.nazva,logo:t.logo,email:t.email,skype:t.skype,phone:t.phone,vacancies:t.vacancy_count,candidates:t.candidates_to_company_count}})),companiesCount:t.Count,totalPages:t.Pages,currentPage:t.current_page,perPage:t.per_page}})).catch((function(t){return console.log("error in fetch: ",t)}))},u=function(t,e,n){var r=s();return fetch("".concat(c,"/main/returnAllCompanies/").concat(t,"/").concat(e),{method:"POST",headers:{Authorization:"Bearer "+r,"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(t){if(console.log(t),t.ok)return t.json();throw new Error("".concat(t.statusText))})).then((function(t){return{companies:t.companies.map((function(t){return{id:t.id,name:t.nazva,logo:t.logo,email:t.email,skype:t.skype,phone:t.phone,vacancies:t.vacancy_count,candidates:t.candidates_to_company_count}})),companiesCount:t.Count,totalPages:t.Pages,currentPage:t.current_page,perPage:t.per_page}})).catch((function(t){return console.log("error in fetch: ",t)}))},l=function(){var t=Object(o.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s(),t.prev=1,t.next=4,fetch("".concat(c,"/main/addNewCompany"),{method:"POST",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"},body:JSON.stringify(e)});case 4:if(!(r=t.sent).ok){t.next=7;break}return t.abrupt("return",r.json());case 7:throw new Error("".concat(r.statusText));case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",console.log("error in fetch: ",t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),f=function(t){var e=s();return fetch("".concat(c,"/main/viewInformationForCompany/").concat(t),{method:"GET",headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}}).then((function(t){if(t.ok)return t.json();throw new Error("Error while fetching: ".concat(t.statusText))})).then((function(t){return{name:t.nazva,logo:t.logo,phone:t.phone,email:t.email,skype:t.skype,about:t.about,map:t.map,calendarEvents:t.calendar,sendDetails:t.otpravka,termsOfCooperation:t.uslovia,interviewDetails:t.interview_detail,contacts:t.contacts,managers:t.manager}})).catch((function(t){return console.log("error in fetch: ",t)}))},p=function(t,e){var n=s();return fetch("".concat(c,"/main/viewAllCandidatesForCompany/").concat(t,"/").concat(e),{method:"GET",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"}}).then((function(t){if(t.ok)return t.json();throw new Error("Error while fetching: ".concat(t.statusText))})).then((function(t){return{candidates:t.candidates,candidatesCount:t.Count,totalPages:t.totalPages,perPage:t.perPage,currentPage:t.currentPage,platform:t.platforms,candidateStatus:t.statuses}})).catch((function(t){return console.log("error in fetch: ",t)}))},h=function(){var t=Object(o.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s(),t.prev=1,t.next=4,fetch("".concat(c,"/main/commentsCompany/").concat(e),{method:"GET",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"}});case 4:if(!(r=t.sent).ok){t.next=7;break}return t.abrupt("return",r.json());case 7:throw new Error("Error while fetching: ".concat(r.statusText));case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",console.log("error in fetch: ",t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),d=function(t,e,n){var r=s();return fetch("".concat(c,"/main/viewAllVacancyInCompany/").concat(t,"/").concat(e),{method:"POST",headers:{Authorization:"Bearer "+r,"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(t){if(t.ok)return t.json();throw new Error("Error while fetching: ".concat(t.statusText))})).then((function(t){return{vacancies:t.vacancies,vacanciesCount:t.Count,totalPages:t.totalPages,perPage:t.perPage,currentPage:t.currentPage,candidateStatus:t.candidateStatus,vacancyStatus:t.vacancyStatus,platform:t.platforms,seniority:t.seniorities}})).catch((function(t){return console.log("error in fetch: ",t)}))},m=function(t,e,n){var r=s();return fetch("".concat(c,"/main/viewAllCandidatesForCompany/").concat(t,"/").concat(e),{method:"POST",headers:{Authorization:"Bearer "+r,"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(t){if(t.ok)return t.json();throw new Error("Error while fetching: ".concat(t.statusText))})).then((function(t){return{candidates:t.candidates,candidatesCount:t.Count,totalPages:t.totalPages,perPage:t.perPage,currentPage:t.currentPage,platform:t.platforms,candidateStatus:t.statuses}})).catch((function(t){return console.log("error in fetch: ",t)}))},g=function(){var t=Object(o.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s(),t.prev=1,t.next=4,fetch("".concat(c,"/main/updateStatusVacancy"),{method:"POST",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"},body:JSON.stringify(e)});case 4:if(!(r=t.sent).ok){t.next=7;break}return t.abrupt("return",r.json());case 7:throw new Error("Error while fetching: ".concat(r.statusText));case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",console.log("error in fetch: ",t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(o.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s(),t.prev=1,t.next=4,fetch("".concat(c,"/main/updateStatusCandidates"),{method:"POST",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"},body:JSON.stringify(e)});case 4:if(!(r=t.sent).ok){t.next=7;break}return t.abrupt("return",r.json());case 7:throw new Error("Error while fetching: ".concat(r.statusText));case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",console.log("error in fetch: ",t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(o.a)(a.a.mark((function t(e,n){var r,o,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s(),o={logo:n},t.prev=2,t.next=5,fetch("".concat(c,"/main/addLogoCompanies/").concat(e),{method:"POST",headers:{Authorization:"Bearer "+r,"Content-Type":"application/json"},body:JSON.stringify(o)});case 5:if(!(i=t.sent).ok){t.next=8;break}return t.abrupt("return",i.json());case 8:throw new Error("".concat(i.statusText));case 11:return t.prev=11,t.t0=t.catch(2),t.abrupt("return",console.log("error in fetch: ",t.t0));case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e,n){return t.apply(this,arguments)}}(),w=function(){var t=Object(o.a)(a.a.mark((function t(e,n){var r,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s(),t.prev=1,t.next=4,fetch("".concat(c,"/main/editSettingsCompany/").concat(e),{method:"POST",headers:{Authorization:"Bearer "+r,"Content-Type":"application/json"},body:JSON.stringify(n)});case 4:if(!(o=t.sent).ok){t.next=7;break}return t.abrupt("return",o.json());case 7:throw new Error("".concat(o.statusText));case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",console.log("error in fetch: ",t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}(),b=function(){var t=Object(o.a)(a.a.mark((function t(e,n){var r,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s(),t.prev=1,t.next=4,fetch("".concat(c,"/main/addCommentForCompany/").concat(e),{method:"POST",headers:{Authorization:"Bearer "+r,"Content-Type":"application/json"},body:JSON.stringify(n)});case 4:if(!(o=t.sent).ok){t.next=7;break}return t.abrupt("return",o.json());case 7:throw new Error("".concat(o.statusText));case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",console.log("error in fetch: ",t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}(),C=function(){var t=Object(o.a)(a.a.mark((function t(e,n){var r,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s(),t.prev=1,t.next=4,fetch("".concat(c,"/main/editCommentCompany/").concat(e),{method:"POST",headers:{Authorization:"Bearer "+r,"Content-Type":"application/json"},body:JSON.stringify(n)});case 4:if(!(o=t.sent).ok){t.next=7;break}return t.abrupt("return",o.json());case 7:throw new Error("".concat(o.statusText));case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",console.log("error in fetch: ",t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}(),T=function(){var t=Object(o.a)(a.a.mark((function t(e,n){var r,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s(),t.prev=1,t.next=4,fetch("".concat(c,"/main/deleteCommentCompany/").concat(e),{method:"POST",headers:{Authorization:"Bearer "+r,"Content-Type":"application/json"},body:JSON.stringify(n)});case 4:if(!(o=t.sent).ok){t.next=7;break}return t.abrupt("return",o.json());case 7:throw new Error("".concat(o.statusText));case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",console.log("error in fetch: ",t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}(),j=function(t){var e=s();return fetch("".concat(c,"/main/viewEditContactCompany/").concat(t),{method:"GET",headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}}).then((function(t){if(t.ok)return t.json();throw new Error("".concat(t.statusText))})).then((function(t){return{contact:{id:t.id,name:t.name,email:t.email,phone:t.phone,skype:t.skype,selectedPlatforms:t.platforms.map((function(t){var e=Object.values(t.platform);return{id:e[0],label:e[1],value:e[1].toLowerCase()}}))},isChecked:1===t.all_platforms,isDisabled:1===t.all_platforms}})).catch((function(t){return console.log("error in fetch: ",t)}))},S=function(){var t=Object(o.a)(a.a.mark((function t(e,n){var r,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s(),t.prev=1,t.next=4,fetch("".concat(c,"/main/addNewContactForCompany/").concat(e),{method:"POST",headers:{Authorization:"Bearer "+r,"Content-Type":"application/json"},body:JSON.stringify(n)});case 4:if(!(o=t.sent).ok){t.next=7;break}return t.abrupt("return",o.json());case 7:throw new Error("".concat(o.statusText));case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",console.log("error in fetch: ",t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}(),E=function(){var t=Object(o.a)(a.a.mark((function t(e,n){var r,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s(),t.prev=1,t.next=4,fetch("".concat(c,"/main/editContactCompany/").concat(e),{method:"POST",headers:{Authorization:"Bearer "+r,"Content-Type":"application/json"},body:JSON.stringify(n)});case 4:if(!(o=t.sent).ok){t.next=7;break}return t.abrupt("return",o.json());case 7:throw new Error("".concat(o.statusText));case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",console.log("error in fetch: ",t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}(),k=function(){var t=Object(o.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s(),t.prev=1,t.next=4,fetch("".concat(c,"/main/deleteContactForCompany/").concat(e),{method:"GET",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"}});case 4:if(!(r=t.sent).ok){t.next=7;break}return t.abrupt("return",r.json());case 7:throw new Error("".concat(r.statusText));case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",console.log("error in fetch: ",t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),x=function(t,e){var n=s();return fetch("".concat(c,"/main/editInformations/").concat(t),{method:"POST",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){if(t.ok)return t.json();throw new Error("".concat(t.statusText))})).then((function(t){for(var e in t){return"otpravka"===e?{sendDetails:t[e]}:"interview_detail"===e?{interviewDetails:t[e]}:"about"===e?{about:t[e]}:t}})).catch((function(t){return console.log("error in fetch: ",t)}))}},368:function(t,e,n){"use strict";n.d(e,"e",(function(){return i})),n.d(e,"a",(function(){return u})),n.d(e,"f",(function(){return l})),n.d(e,"b",(function(){return f})),n.d(e,"d",(function(){return p})),n.d(e,"c",(function(){return h}));var r=n(290),a=n.n(r),o=n(291),c="http://f2.uppeople.space/api",s=function(){return localStorage.getItem("token")},i=function(t){var e=s();return fetch("".concat(c,"/main/viewVacancy/").concat(t),{method:"GET",headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}}).then((function(t){if(t.ok)return t.json();throw new Error("Error while fetching: ".concat(t.statusText))})).then((function(t){var e=t[0];return{id:e.id,date:e.date_create,company:e.company,platform:e.platforms,seniority:e.seniorities,status:e.status,location:e.location,salary:e.salary,link:e.link,description:e.opus,details:e.details}})).catch((function(t){return console.log("error in fetch: ",t)}))},u=function(){var t=Object(o.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s(),t.prev=1,t.next=4,fetch("".concat(c,"/main/addNewVacancy"),{method:"POST",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"},body:JSON.stringify(e)});case 4:if(!(r=t.sent).ok){t.next=7;break}return t.abrupt("return",r.json());case 7:throw new Error("".concat(r.statusText));case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",console.log("error in fetch: ",t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),l=function(t,e){var n=s();return fetch("".concat(c,"/main/editVacancy/").concat(t),{method:"POST",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){if(t.ok)return t.json();throw new Error("".concat(t.statusText))})).then((function(t){var e=t[0];return console.log("vacancy response",t),{id:e.id,date:e.date_create,company:e.company,platform:e.platforms,seniority:e.seniorities,status:e.status,location:e.location,salary:e.salary,link:e.link,description:e.opus,details:e.details}})).catch((function(t){return console.log("error in fetch: ",t)}))},f=function(){var t=Object(o.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s(),t.prev=1,t.next=4,fetch("".concat(c,"/main/deleteVacancy/").concat(e),{method:"GET",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"}});case 4:if(!(r=t.sent).ok){t.next=7;break}return t.abrupt("return",r.json());case 7:throw new Error("".concat(r.statusText));case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",console.log("error in fetch: ",t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(o.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s(),t.prev=1,console.log(n),t.next=5,fetch("".concat(c,"/main/returnAllVacancy"),{method:"POST",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"}});case 5:if(!(r=t.sent).ok){t.next=8;break}return t.abrupt("return",r.json());case 8:throw new Error("".concat(r.statusText));case 11:return t.prev=11,t.t0=t.catch(1),t.abrupt("return",console.log("error in fetch: ",t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(o.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s(),t.prev=1,t.next=4,fetch("".concat(c,"/main/getTags"),{method:"POST",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"}});case 4:if(!(r=t.sent).ok){t.next=7;break}return t.abrupt("return",r.json());case 7:throw new Error("".concat(r.statusText));case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",console.log("error in fetch: ",t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},650:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){var t=localStorage.getItem("token");return fetch("".concat("http://f2.uppeople.space/api","/admin/all-staff"),{method:"GET",headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"}}).then((function(t){if(t.ok)return t.json();throw new Error("Error while fetching: ".concat(t.statusText))})).then((function(t){return{staff:t.users,partners:t.partners,freelancers:t.freeLancers}})).catch((function(t){return console.log("error in fetch: ",t)}))}},670:function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"f",(function(){return c})),n.d(e,"e",(function(){return s})),n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return u})),n.d(e,"d",(function(){return l})),n.d(e,"g",(function(){return f}));var r="http://f2.uppeople.space/api",a=function(){return localStorage.getItem("token")},o=function(t){var e=a();return console.log(":::::getAllCandidates"),fetch("".concat(r,"/main/allCandidates/").concat(t),{method:"GET",headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}}).then((function(t){if(t.ok)return t.json();throw new Error("Error while fetching: ".concat(t.statusText))})).then((function(t){return{allCandidates:t.candidates,allCandidatesCount:t.Count,allTotalPages:t.Page,allPerPage:t.perPage,currentAllPage:t.currentPage,allPlatforms:t.platforms,allStatuses:t.statuses,allRecruiters:t.recruiter,allSeniority:t.seniority,loading:!1}})).catch((function(t){return console.log("error in fetch: ",t)}))},c=function(t){var e=a();return fetch("".concat(r,"/main/returnAllCandidates/").concat(t),{method:"GET",headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}}).then((function(t){if(t.ok)return t.json();throw new Error("Error while fetching: ".concat(t.statusText))})).then((function(t){return{sentCandidates:t.candidates,sentCandidatesCount:t.Count,sentTotalPages:t.Page,sentPerPage:t.perPage,currentSentPage:t.currentPage,sentPlatforms:t.platforms,sentCompanies:t.company,sentStatuses:t.statuses,sentRecruiters:t.recruiter,loadingSent:!1}})).catch((function(t){return console.log("error in fetch: ",t)}))},s=function(t){var e=a();return fetch("".concat(r,"/main/viewCandidatesFreelancerOnVacancies/").concat(t),{method:"GET",headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}}).then((function(t){if(t.ok)return t.json();throw new Error("Error while fetching: ".concat(t.statusText))})).then((function(t){return{candidatesFF:t.candidates,candidatesCountFF:t.Count,totalPagesFF:t.Page,perPageFF:t.perPage,statusesFF:t.statuses,currentPageFF:t.currentPage}})).catch((function(t){return console.log("error in fetch: ",t)}))},i=function(t,e){var n=a();return console.log(":::::Filtered allCandidates"),fetch("".concat(r,"/main/allCandidates/").concat(t),{method:"POST",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){if(t.ok)return t.json();throw new Error("Error while fetching: ".concat(t.statusText))})).then((function(t){return{allCandidates:t.candidates,allCandidatesCount:t.Count,allTotalPages:t.Page,allPerPage:t.perPage,currentAllPage:t.currentPage,allPlatforms:t.platforms,allStatuses:t.statuses,allRecruiters:t.recruiter,allSeniority:t.seniority,loading:!1}})).catch((function(t){return console.log("error in fetch: ",t)}))},u=function(t,e){console.log("Filtered",e);var n=a();return fetch("".concat(r,"/main/returnAllCandidates/").concat(t),{method:"POST",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){if(t.ok)return t.json();throw new Error("Error while fetching: ".concat(t.statusText))})).then((function(t){return{sentCandidates:t.candidates,sentCandidatesCount:t.Count,sentTotalPages:t.Page,sentPerPage:t.perPage,currentSentPage:t.currentPage,sentPlatforms:t.platforms,sentCompanies:t.company,sentStatuses:t.statuses,sentRecruiters:t.recruiter,loadingSent:!1}})).catch((function(t){return console.log("error in fetch: ",t)}))},l=function(t,e,n,o,c,s){var i=a();return fetch("".concat(r,"/main/getCandidatesAmountByStatuses"),{method:"POST",headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"},body:JSON.stringify({recruiter_id:t,company_id:e,vacancy_id:n,tag_id:o,start_date:c,end_date:s})}).then((function(t){if(t.ok)return t.json();throw new Error("Error while fetching: ".concat(t.statusText))})).then((function(t){return t})).catch((function(t){return console.log("error in fetch: ",t)}))},f=function(){var t=a();return fetch("".concat(r,"/main/getStatuses"),{method:"POST",headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"}}).then((function(t){if(t.ok)return t.json();throw new Error("Error while fetching: ".concat(t.statusText))})).then((function(t){return t})).catch((function(t){return console.log("error in fetch: ",t)}))}},969:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return k}));var r=n(946),a=n(42),o=n(955),c=n(107),s=n(290),i=n.n(s),u=n(291),l=n(30),f=n(31),p=n(33),h=n(32),d=n(0),m=n.n(d),g=n(481),y=n(482),v=n(408),w=n(298),b=n(337),C=n(650),T=n(309),j=n(368),S=n(670),E=n(953),k=function(t){Object(p.a)(n,t);var e=Object(h.a)(n);function n(t){var s;return Object(l.a)(this,n),(s=e.call(this,t)).fetchRecruiters=Object(u.a)(i.a.mark((function t(){var e,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(C.a)();case 2:e=t.sent,n=e.staff.filter((function(t){return 2===t.role_id})),s.setState({recruiters:n});case 5:case"end":return t.stop()}}),t)}))),s.fetchCompanies=Object(u.a)(i.a.mark((function t(){var e,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(T.k)(0,1);case 2:e=t.sent,n=e.companies,s.setState({companies:n});case 5:case"end":return t.stop()}}),t)}))),s.fetchVacancies=Object(u.a)(i.a.mark((function t(){var e,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(j.d)();case 2:e=t.sent,n=e.vacancies,console.log("here"),console.log(n),s.setState({vacancies:n});case 7:case"end":return t.stop()}}),t)}))),s.fetchTags=Object(u.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(j.c)();case 2:e=t.sent,console.log(e),s.setState({tags:e});case 5:case"end":return t.stop()}}),t)}))),s.fetchCandidatesData=Object(u.a)(i.a.mark((function t(){var e,n,r,a,o,c,u,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.state,n=e.selectedRecruiter,r=e.selectedCompany,a=e.selectedVacancy,o=e.selectedTag,c=e.selectedStartDate,u=e.selectedEndDate,t.next=3,Object(S.d)(n?n.id:0,r?r.id:0,a?a.id:0,o?o.id:0,c,u);case 3:void 0!==(l=t.sent)?(l=l.data,s.setState({funnelData:l})):s.setState({funnelData:null});case 5:case"end":return t.stop()}}),t)}))),s.fetchStatuses=Object(u.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(S.g)();case 2:e=t.sent,s.setState({statuses:e}),s.setState({selectedStatuses:e});case 5:case"end":return t.stop()}}),t)}))),s.handleRecruiterSelect=function(t){s.setState({selectedRecruiter:t})},s.handleCompanySelect=function(t){s.setState({selectedCompany:t})},s.handleVacancySelect=function(t){console.log(t),console.log(t.company_name),console.log(t.platform_name),s.setState({selectedVacancy:t})},s.handleTagsSelect=function(t){s.setState({selectedTag:t})},s.handleDate=function(t){var e=t.target,n=e.name,r=e.value;s.setState(Object(c.a)({},n,r))},s.calculateFunnelShades=function(t,e,n){for(var r=parseInt(t,16),a=parseInt(e,16),o=(a-r)/n,c=[],s=r;s<a;s+=o){var i=s.toString(16);i.length%2&&(i="0"+i),i="#"+i.substr(0,6),c.push(i)}return c},s.renderChart=function(){var t=s.state.funnelData;if(console.log(t),null!==t&&void 0!==t){var e=Object.entries(t).reduceRight((function(t,e,n,r){var c=Object(o.a)(e,2),s=c[0],i=c[1],u=r[n+1];if(console.log(i),u){var l=Object(o.a)(u,1)[0];t[s]=Object(a.a)(Object(a.a)({},i),{},{count:t[l].count+i.count})}else t[s]=i;return t}),{});console.log(e);var n,c=[],i=Object(r.a)(Object.entries(e).reverse());try{for(i.s();!(n=i.n()).done;){var u=Object(o.a)(n.value,2),l=u[0],f=u[1];c.push({stat:l,count:f.count,color:f.color})}}catch(g){i.e(g)}finally{i.f()}console.log(e),console.log(c);var p=s.state,h=p.dynamicSlope,d=p.dynamicHeight;return m.a.createElement(E.a,{style:{margin:"0 auto",width:300,height:350}},m.a.createElement(E.f,{text:"Sales funnel"}),m.a.createElement(E.c,null,m.a.createElement(E.d,{type:"funnel",data:c,categoryField:"stat",field:"count",colorField:"color",dynamicHeight:d,dynamicSlope:h},m.a.createElement(E.e,{color:"white",background:"none",format:"N0"}))),m.a.createElement(E.b,{visible:!1}))}},s.state={recruiters:[],companies:[],vacancies:[],tags:[],statuses:[],selectedRecruiter:null,selectedCompany:null,selectedVacancy:null,selectedTag:null,selectedStatuses:null,selectedStartDate:null,selectedEndDate:null,funnelData:null,dynamicSlope:!0,dynamicHeight:!1},s}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.fetchRecruiters(),this.fetchCompanies(),this.fetchVacancies(),this.fetchTags(),this.fetchStatuses()}},{key:"componentDidUpdate",value:function(t,e){console.log(this.state),this.state.selectedRecruiter===e.selectedRecruiter&&this.state.selectedCompany===e.selectedCompany&&this.state.selectedVacancy===e.selectedVacancy&&this.state.selectedTag===e.selectedTag&&this.state.selectedStatuses===e.selectedStatuses&&this.state.selectedStartDate===e.selectedStartDate&&this.state.selectedEndDate===e.selectedEndDate||this.fetchCandidatesData()}},{key:"render",value:function(){var t=this.state,e=t.recruiters,n=t.selectedRecruiter,r=this.state,a=r.companies,o=r.selectedCompany,c=this.state,s=c.vacancies,i=c.selectedVacancy,u=this.state,l=u.tags,f=u.selectedTag,p=this.state,h=p.statuses,d=p.selectStatuses,C=this.state,T=C.selectedStartDate,j=C.selectedEndDate;return m.a.createElement(m.a.Fragment,null,m.a.createElement(g.a,{style:{marginBottom:"1rem"}},m.a.createElement(y.a,null,m.a.createElement("h1",{style:{marginBottom:0,fontSize:24}},"Funnel recruitment"))),m.a.createElement(g.a,{style:{marginBottom:"1rem"}},m.a.createElement(y.a,{xs:"12",sm:"12",md:"12",lg:"4",xl:"4"},m.a.createElement(v.a,{className:"filter-select"},m.a.createElement("label",{className:"date-filter-label"},"Filters"),m.a.createElement(b.a,{style:{marginBottom:15},value:n,options:e,getOptionValue:function(t){return t.id},getOptionLabel:function(t){return t.name},placeholder:"Recruiters",onChange:this.handleRecruiterSelect})),m.a.createElement(v.a,{className:"filter-select"},m.a.createElement(b.a,{style:{marginBottom:"1rem"},value:o,options:a,getOptionValue:function(t){return t.id},getOptionLabel:function(t){return t.name},placeholder:"Companies",onChange:this.handleCompanySelect})),m.a.createElement(v.a,{className:"filter-select"},m.a.createElement(b.a,{style:{marginBottom:"1rem"},value:i,options:s,getOptionValue:function(t){return t.id},getOptionLabel:function(t){return t.company_name+"("+t.platform_name+")"},placeholder:"Vacancies",onChange:this.handleVacancySelect})),m.a.createElement(v.a,{className:"filter-select"},m.a.createElement(b.a,{style:{marginBottom:"1rem"},value:f,options:l,getOptionValue:function(t){return t.id},getOptionLabel:function(t){return t.name},placeholder:"Tags",onChange:this.handleTagsSelect})),m.a.createElement(v.a,{className:"filter-select"},m.a.createElement(b.a,{isMulti:!0,value:d,options:h,placeholder:"Statuses",onChange:this.handleStatusChange}))),m.a.createElement(y.a,{xs:"12",sm:"12",md:"12",lg:"8",xl:"8"},m.a.createElement(g.a,{style:{marginBottom:"1rem"}},m.a.createElement(y.a,{lg:4,md:4},m.a.createElement(v.a,null,m.a.createElement("label",{className:"date-filter-label"},"Date From"),m.a.createElement(w.a,{id:"date-from",type:"date",name:"selectedStartDate",value:T,onChange:this.handleDate}))),m.a.createElement(y.a,{lg:4,md:4},m.a.createElement(v.a,null,m.a.createElement("label",{className:"date-filter-label"},"Date To"),m.a.createElement(w.a,{id:"date-to",type:"date",name:"selectedEndDate",value:j,onChange:this.handleDate})))),this.renderChart())))}}]),n}(d.Component)}}]);
//# sourceMappingURL=45.bf79428f.chunk.js.map