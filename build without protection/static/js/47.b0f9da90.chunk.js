(this["webpackJsonp@coreui/coreui-pro-react-admin-template"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template"]||[]).push([[47],{308:function(e,t,a){"use strict";var n=a(297),l=a(30),r=a(31),o=a(33),c=a(32),s=a(0),i=a.n(s),u=a(411),m=a(412),g=a(413),p=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).setPage=function(e){var t=r.props,a=t.totalItems,n=t.totalPages,l=t.pageSize;r.allDisabled=!1;var o=r.state.pager;e<1||e>n||(o=r.getPager(a,e,l),r.setState({pager:o}),r.props.onChangePage(e))},r.setInitialPage=function(){var e=r.props,t=e.totalItems,a=e.totalPages,n=e.pageSize;r.allDisabled=!1;var l=r.state.pager;1>a||(l=r.getPager(t,1,n),r.setState({pager:l}))},r.getPager=function(e,t,a){t=t||1,a=a||10;var l,r,o=Math.ceil(e/a);o<=10?(l=1,r=o):t<=6?(l=1,r=10):t+4>=o?(l=o-9,r=o):(l=t-5,r=t+4);var c=(t-1)*a,s=Math.min(c+a-1,e-1),i=Object(n.a)(Array(r+1-l).keys()).map((function(e){return l+e}));return{totalItems:e,currentPage:t,pageSize:a,totalPages:o,startPage:l,endPage:r,startIndex:c,endIndex:s,pages:i}},r.state={pager:{}},r}return Object(r.a)(a,[{key:"componentWillMount",value:function(){this.setInitialPage()}},{key:"componentDidUpdate",value:function(e){console.log("update from PaginationBackend"),this.props.initialPage===e.initialPage&&this.props.totalItems===e.totalItems||(console.log("condition update from PaginationBackend"),this.setPage(this.props.initialPage))}},{key:"render",value:function(){var e=this,t=this.state.pager,a=this.props.loading;return!t.pages||t.pages.length<=1?null:i.a.createElement(u.a,{style:a?{pointerEvents:"none"}:{},className:"pagination justify-content-end"},i.a.createElement(m.a,{className:"page-item",disabled:1===t.currentPage},i.a.createElement(g.a,{className:"page-link",onClick:function(){return e.setPage(1)}},"First")),i.a.createElement(m.a,{className:"page-item",disabled:1===t.currentPage},i.a.createElement(g.a,{className:"page-link",onClick:function(){return e.setPage(t.currentPage-1)}},"Previous")),t.pages.map((function(a,n){return i.a.createElement(m.a,{key:n,className:"page-item",active:t.currentPage===a,disabled:e.allDisabled},i.a.createElement(g.a,{className:"page-link",onClick:function(){return e.setPage(a)}},a))})),i.a.createElement(m.a,{className:"page-item",disabled:t.currentPage===t.totalPages||this.allDisabled},i.a.createElement(g.a,{className:"page-link",onClick:function(){return e.setPage(t.currentPage+1)}},"Next")),i.a.createElement(m.a,{className:"page-item",disabled:t.currentPage===t.totalPages||this.allDisabled},i.a.createElement(g.a,{className:"page-link",onClick:function(){return e.setPage(t.totalPages)}},"Last")))}}]),a}(s.Component);p.defaultProps={items:[],initialPage:1,pageSize:10,totalItems:null,totalPages:null,onChangePage:function(){return null}},t.a=p},321:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(30),l=a(31),r=a(33),o=a(32),c=a(0),s=a.n(c),i=a(769),u=a(697),m=a(698),g=a(699),p=a(312),f=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,r=new Array(l),o=0;o<l;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={modal:e.props.isOpenModal},e.toggle=function(){e.setState((function(e){return{modal:!e.modal}})),(0,e.props.onRequestClose)()},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state.modal,t=this.props,a=t.title,n=t.name,l=t.className,r=t.onDelete;return s.a.createElement(i.a,{isOpen:e,toggle:this.toggle,className:'modal-danger " + '.concat(l||"")},s.a.createElement(u.a,{toggle:this.toggle},a),s.a.createElement(m.a,null,"Are you sure to delete ".concat(n,"?")),s.a.createElement(g.a,null,s.a.createElement(p.a,{color:"danger",onClick:r},"Delete")," ",s.a.createElement(p.a,{color:"secondary",onClick:this.toggle},"Cancel")))}}]),a}(c.Component)},364:function(e,t,a){"use strict";var n=a(30),l=a(31),r=a(33),o=a(32),c=a(0),s=a.n(c),i=a(769),u=a(697),m=a(698);t.a=function(e){return function(t){Object(r.a)(c,t);var a=Object(o.a)(c);function c(){var e;Object(n.a)(this,c);for(var t=arguments.length,l=new Array(t),r=0;r<t;r++)l[r]=arguments[r];return(e=a.call.apply(a,[this].concat(l))).state={modal:!1},e.toggleModal=function(){e.setState((function(e){return{modal:!e.modal}})),(0,e.props.onRequestClose)()},e}return Object(l.a)(c,[{key:"render",value:function(){var t=this.state.modal,a=this.props,n=a.title,l=a.className;return s.a.createElement(i.a,{isOpen:t,toggle:this.toggleModal,className:'modal-primary " + '.concat(l||"")},s.a.createElement(u.a,{toggle:this.toggleModal},n),s.a.createElement(m.a,null,t&&s.a.createElement(e,this.props)))}}],[{key:"getDerivedStateFromProps",value:function(e){return console.log("\u041f\u0420\u041e\u041f\u0421\u042b",e),e?{modal:e.isOpenModal}:null}}]),c}(c.Component)}},984:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return w}));var n=a(42),l=a(297),r=a(30),o=a(31),c=a(33),s=a(32),i=a(0),u=a.n(i),m=a(481),g=a(482),p=a(312),f=a(379),d=a(321),h=a(70),P=function(e){var t=e.idx,a=e.id,n=e.name,l=e.onDelete;return u.a.createElement(u.a.Fragment,null,u.a.createElement("td",null,t+1),u.a.createElement("td",null,n),u.a.createElement("td",{style:{paddingLeft:"1.5rem"}},u.a.createElement(h.a,null,(function(e){var t=e.showModal,r=e.hideModal;return u.a.createElement(p.a,{title:"delete",style:{margin:0,padding:"0.2rem",backgroundColor:"transparent",borderColor:"transparent"},onClick:function(){return t(d.a,{isOpenModal:!0,title:"Delete platform",name:"".concat(n),onDelete:function(){l(a),r()}})}},u.a.createElement("i",{className:"cui-trash icons font-lg"}))}))))};P.defaultProps={name:"",onDelete:function(){return null}};var E=P,v=a(308),b=function(e){var t=e.platforms,a=e.totalItems,n=e.pageSize,l=e.totalPages,r=e.currentPage,o=e.onChangePage,c=e.onDelete,s=t.length>0?t.map((function(e,t){return u.a.createElement("tr",{key:e.id},u.a.createElement(E,Object.assign({idx:t},e,{onDelete:c})))})):u.a.createElement("tr",{style:{color:"var(--secondary)"}},u.a.createElement("td",{colSpan:9,align:"center"},"Nothing found"," ",u.a.createElement("span",{role:"img","aria-label":"confused face"},"\ud83d\ude15")));return u.a.createElement(u.a.Fragment,null,u.a.createElement(f.a,{style:{background:"var(--white)"},responsive:!0,hover:!0},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{scope:"col"},"#"),u.a.createElement("th",{scope:"col"},"Platform"),u.a.createElement("th",{scope:"col"},"Action"))),u.a.createElement("tbody",null,s)),t.length>0?u.a.createElement(m.a,null,u.a.createElement(g.a,null,u.a.createElement(v.a,{items:t,totalItems:a,pageSize:n,totalPages:l,initialPage:r,onChangePage:o}))):null)};b.defaultProps={platforms:[],currentPage:null,pageSize:null,totalItems:null,totalPages:null,onChangePage:function(){return null},onDelete:function(){return null}};var y=b,C=a(107),O=a(316),k=a(408),j=a(298),S={name:""},D=function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(r.a)(this,a);for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state=Object(n.a)({},S),e.handleInputChange=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(C.a)({},n,l))},e.handleSubmit=function(t){t.preventDefault();var a=e.props,l=a.onCreatePlatform,r=a.onRequestClose;l(e.state),e.setState(Object(n.a)({},S)),r()},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.name;return u.a.createElement(O.a,{onSubmit:this.handleSubmit},u.a.createElement(k.a,{row:!0},u.a.createElement(g.a,null,u.a.createElement(j.a,{type:"text",name:"name",value:e,placeholder:"Platform name",onChange:this.handleInputChange}))),u.a.createElement(p.a,{color:"primary",onClick:this.handleSubmit},"Create"))}}]),a}(i.Component),N=a(364),I=a(300),M=Object(N.a)(D),w=function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(r.a)(this,a);for(var o=arguments.length,c=new Array(o),s=0;s<o;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={platforms:[],totalPlatforms:null,totalPages:null,perPage:null,currentPage:1},e.createPlatform=function(t){Object(I.b)(t).then((function(t){t?e.setState({platforms:[t].concat(Object(l.a)(e.state.platforms))}):console.log("Error while adding platform")}))},e.removePlatform=function(t){Object(I.d)(t).then((function(a){"Delete Successfully"===a.message?e.setState((function(e){return{platforms:e.platforms.filter((function(e){return e.id!==t}))}})):console.log("Error while deleting platform")}))},e.onChangePage=function(t){e.getData(t)},e.getData=function(t){Object(I.k)(t).then((function(t){var a={platforms:t.platforms,totalPlatforms:t.Count,totalPages:t.Page,perPage:t.perPage,currentPage:t.currentPage};e.setState(Object(n.a)(Object(n.a)({},e.state),a))}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.state.currentPage;this.getData(e)}},{key:"render",value:function(){var e=this,t=this.state,a=t.platforms,n=t.totalPlatforms,l=t.perPage,r=t.totalPages,o=t.currentPage;return u.a.createElement(u.a.Fragment,null,u.a.createElement(m.a,{style:{marginBottom:"1rem"}},u.a.createElement(g.a,null,u.a.createElement("h1",{style:{marginBottom:0,fontSize:24}},"Platforms"))),u.a.createElement(m.a,{style:{marginBottom:"1rem"}},u.a.createElement(g.a,null,u.a.createElement(h.a,null,(function(t){var a=t.showModal;return u.a.createElement(p.a,{color:"success",onClick:function(){return a(M,{isOpenModal:!0,title:"Create new platform",onCreatePlatform:e.createPlatform})}},u.a.createElement("i",{style:{marginRight:"0.2rem"},className:"fa fa-plus-circle"}),"Create")})))),u.a.createElement(m.a,null,u.a.createElement(g.a,null,u.a.createElement(y,{platforms:a,totalItems:n,pageSize:l,totalPages:r,currentPage:o,onChangePage:this.onChangePage,onDelete:this.removePlatform}))))}}]),a}(i.Component)}}]);
//# sourceMappingURL=47.b0f9da90.chunk.js.map