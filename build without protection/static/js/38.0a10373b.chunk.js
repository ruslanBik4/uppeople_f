(this["webpackJsonp@coreui/coreui-pro-react-admin-template"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template"]||[]).push([[38],{295:function(e,a,t){"use strict";var n=t(282),l=t(32),r=t(33),o=t(35),s=t(34),c=t(0),i=t.n(c),u=t(403),m=t(404),g=t(405),p=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(e){var r;return Object(l.a)(this,t),(r=a.call(this,e)).setPage=function(e){var a=r.props,t=a.totalItems,n=a.totalPages,l=a.pageSize;r.allDisabled=!1;var o=r.state.pager;e<1||e>n||(o=r.getPager(t,e,l),r.setState({pager:o}),r.props.onChangePage(e))},r.setInitialPage=function(){var e=r.props,a=e.totalItems,t=e.totalPages,n=e.pageSize;r.allDisabled=!1;var l=r.state.pager;1>t||(l=r.getPager(a,1,n),r.setState({pager:l}))},r.getPager=function(e,a,t){a=a||1,t=t||10;var l,r,o=Math.ceil(e/t);o<=10?(l=1,r=o):a<=6?(l=1,r=10):a+4>=o?(l=o-9,r=o):(l=a-5,r=a+4);var s=(a-1)*t,c=Math.min(s+t-1,e-1),i=Object(n.a)(Array(r+1-l).keys()).map((function(e){return l+e}));return{totalItems:e,currentPage:a,pageSize:t,totalPages:o,startPage:l,endPage:r,startIndex:s,endIndex:c,pages:i}},r.state={pager:{}},r}return Object(r.a)(t,[{key:"componentWillMount",value:function(){this.setInitialPage()}},{key:"componentDidUpdate",value:function(e){console.log("update from PaginationBackend"),this.props.initialPage===e.initialPage&&this.props.totalItems===e.totalItems||(console.log("condition update from PaginationBackend"),this.setPage(this.props.initialPage))}},{key:"render",value:function(){var e=this,a=this.state.pager,t=this.props.loading;return!a.pages||a.pages.length<=1?null:i.a.createElement(u.a,{style:t?{pointerEvents:"none"}:{},className:"pagination justify-content-end"},i.a.createElement(m.a,{className:"page-item",disabled:1===a.currentPage},i.a.createElement(g.a,{className:"page-link",onClick:function(){return e.setPage(1)}},"First")),i.a.createElement(m.a,{className:"page-item",disabled:1===a.currentPage},i.a.createElement(g.a,{className:"page-link",onClick:function(){return e.setPage(a.currentPage-1)}},"Previous")),a.pages.map((function(t,n){return i.a.createElement(m.a,{key:n,className:"page-item",active:a.currentPage===t,disabled:e.allDisabled},i.a.createElement(g.a,{className:"page-link",onClick:function(){return e.setPage(t)}},t))})),i.a.createElement(m.a,{className:"page-item",disabled:a.currentPage===a.totalPages||this.allDisabled},i.a.createElement(g.a,{className:"page-link",onClick:function(){return e.setPage(a.currentPage+1)}},"Next")),i.a.createElement(m.a,{className:"page-item",disabled:a.currentPage===a.totalPages||this.allDisabled},i.a.createElement(g.a,{className:"page-link",onClick:function(){return e.setPage(a.totalPages)}},"Last")))}}]),t}(c.Component);p.defaultProps={items:[],initialPage:1,pageSize:10,totalItems:null,totalPages:null,onChangePage:function(){return null}},a.a=p},308:function(e,a,t){"use strict";t.d(a,"a",(function(){return d}));var n=t(32),l=t(33),r=t(35),o=t(34),s=t(0),c=t.n(s),i=t(494),u=t(480),m=t(481),g=t(482),p=t(316),d=function(e){Object(r.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var l=arguments.length,r=new Array(l),o=0;o<l;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={modal:e.props.isOpenModal},e.toggle=function(){e.setState((function(e){return{modal:!e.modal}})),(0,e.props.onRequestClose)()},e}return Object(l.a)(t,[{key:"render",value:function(){var e=this.state.modal,a=this.props,t=a.title,n=a.name,l=a.className,r=a.onDelete;return c.a.createElement(i.a,{isOpen:e,toggle:this.toggle,className:'modal-danger " + '.concat(l||"")},c.a.createElement(u.a,{toggle:this.toggle},t),c.a.createElement(m.a,null,"Are you sure to delete ".concat(n,"?")),c.a.createElement(g.a,null,c.a.createElement(p.a,{color:"danger",onClick:r},"Delete")," ",c.a.createElement(p.a,{color:"secondary",onClick:this.toggle},"Cancel")))}}]),t}(s.Component)},358:function(e,a,t){"use strict";var n=t(32),l=t(33),r=t(35),o=t(34),s=t(0),c=t.n(s),i=t(494),u=t(480),m=t(481);a.a=function(e){return function(a){Object(r.a)(s,a);var t=Object(o.a)(s);function s(){var e;Object(n.a)(this,s);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={modal:!1},e.toggleModal=function(){e.setState((function(e){return{modal:!e.modal}})),(0,e.props.onRequestClose)()},e}return Object(l.a)(s,[{key:"render",value:function(){var a=this.state.modal,t=this.props,n=t.title,l=t.className;return c.a.createElement(i.a,{isOpen:a,toggle:this.toggleModal,className:'modal-primary " + '.concat(l||"")},c.a.createElement(u.a,{toggle:this.toggleModal},n),c.a.createElement(m.a,null,a&&c.a.createElement(e,this.props)))}}],[{key:"getDerivedStateFromProps",value:function(e){return console.log("\u041f\u0420\u041e\u041f\u0421\u042b",e),e?{modal:e.isOpenModal}:null}}]),s}(s.Component)}},361:function(e,a,t){"use strict";var n=t(13),l=t(31),r=t(107),o=t(53),s=t(0),c=t.n(s),i=t(1),u=t.n(i),m=t(106),g=t.n(m),p=t(52),d={children:u.a.node,inline:u.a.bool,tag:p.n,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),className:u.a.string,cssModule:u.a.object},f=function(e){function a(a){var t;return(t=e.call(this,a)||this).getRef=t.getRef.bind(Object(r.a)(t)),t.submit=t.submit.bind(Object(r.a)(t)),t}Object(o.a)(a,e);var t=a.prototype;return t.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},t.submit=function(){this.ref&&this.ref.submit()},t.render=function(){var e=this.props,a=e.className,t=e.cssModule,r=e.inline,o=e.tag,s=e.innerRef,i=Object(l.a)(e,["className","cssModule","inline","tag","innerRef"]),u=Object(p.j)(g()(a,!!r&&"form-inline"),t);return c.a.createElement(o,Object(n.a)({},i,{ref:s,className:u}))},a}(s.Component);f.propTypes=d,f.defaultProps={tag:"form"},a.a=f},400:function(e,a,t){"use strict";var n=t(13),l=t(31),r=t(0),o=t.n(r),s=t(1),c=t.n(s),i=t(106),u=t.n(i),m=t(52),g={children:c.a.node,row:c.a.bool,check:c.a.bool,inline:c.a.bool,disabled:c.a.bool,tag:m.n,className:c.a.string,cssModule:c.a.object},p=function(e){var a=e.className,t=e.cssModule,r=e.row,s=e.disabled,c=e.check,i=e.inline,g=e.tag,p=Object(l.a)(e,["className","cssModule","row","disabled","check","inline","tag"]),d=Object(m.j)(u()(a,!!r&&"row",c?"form-check":"form-group",!(!c||!i)&&"form-check-inline",!(!c||!s)&&"disabled"),t);return"fieldset"===g&&(p.disabled=s),o.a.createElement(g,Object(n.a)({},p,{className:d}))};p.propTypes=g,p.defaultProps={tag:"div"},a.a=p},403:function(e,a,t){"use strict";var n=t(13),l=t(31),r=t(0),o=t.n(r),s=t(1),c=t.n(s),i=t(106),u=t.n(i),m=t(52),g={children:c.a.node,className:c.a.string,listClassName:c.a.string,cssModule:c.a.object,size:c.a.string,tag:m.n,listTag:m.n,"aria-label":c.a.string},p=function(e){var a,t=e.className,r=e.listClassName,s=e.cssModule,c=e.size,i=e.tag,g=e.listTag,p=e["aria-label"],d=Object(l.a)(e,["className","listClassName","cssModule","size","tag","listTag","aria-label"]),f=Object(m.j)(u()(t),s),b=Object(m.j)(u()(r,"pagination",((a={})["pagination-"+c]=!!c,a)),s);return o.a.createElement(i,{className:f,"aria-label":p},o.a.createElement(g,Object(n.a)({},d,{className:b})))};p.propTypes=g,p.defaultProps={tag:"nav",listTag:"ul","aria-label":"pagination"},a.a=p},404:function(e,a,t){"use strict";var n=t(13),l=t(31),r=t(0),o=t.n(r),s=t(1),c=t.n(s),i=t(106),u=t.n(i),m=t(52),g={active:c.a.bool,children:c.a.node,className:c.a.string,cssModule:c.a.object,disabled:c.a.bool,tag:m.n},p=function(e){var a=e.active,t=e.className,r=e.cssModule,s=e.disabled,c=e.tag,i=Object(l.a)(e,["active","className","cssModule","disabled","tag"]),g=Object(m.j)(u()(t,"page-item",{active:a,disabled:s}),r);return o.a.createElement(c,Object(n.a)({},i,{className:g}))};p.propTypes=g,p.defaultProps={tag:"li"},a.a=p},405:function(e,a,t){"use strict";var n=t(13),l=t(31),r=t(0),o=t.n(r),s=t(1),c=t.n(s),i=t(106),u=t.n(i),m=t(52),g={"aria-label":c.a.string,children:c.a.node,className:c.a.string,cssModule:c.a.object,next:c.a.bool,previous:c.a.bool,first:c.a.bool,last:c.a.bool,tag:m.n},p=function(e){var a,t=e.className,r=e.cssModule,s=e.next,c=e.previous,i=e.first,g=e.last,p=e.tag,d=Object(l.a)(e,["className","cssModule","next","previous","first","last","tag"]),f=Object(m.j)(u()(t,"page-link"),r);c?a="Previous":s?a="Next":i?a="First":g&&(a="Last");var b,h=e["aria-label"]||a;c?b="\u2039":s?b="\u203a":i?b="\xab":g&&(b="\xbb");var P=e.children;return P&&Array.isArray(P)&&0===P.length&&(P=null),d.href||"a"!==p||(p="button"),(c||s||i||g)&&(P=[o.a.createElement("span",{"aria-hidden":"true",key:"caret"},P||b),o.a.createElement("span",{className:"sr-only",key:"sr"},h)]),o.a.createElement(p,Object(n.a)({},d,{className:f,"aria-label":h}),P)};p.propTypes=g,p.defaultProps={tag:"a"},a.a=p},976:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return I}));var n=t(43),l=t(282),r=t(32),o=t(33),s=t(35),c=t(34),i=t(0),u=t.n(i),m=t(473),g=t(474),p=t(316),d=t(341),f=t(308),b=t(72),h=function(e){var a=e.idx,t=e.id,n=e.name,l=e.onDelete;return u.a.createElement(u.a.Fragment,null,u.a.createElement("td",null,a+1),u.a.createElement("td",null,n),u.a.createElement("td",{style:{paddingLeft:"1.5rem"}},u.a.createElement(b.a,null,(function(e){var a=e.showModal,r=e.hideModal;return u.a.createElement(p.a,{title:"delete",style:{margin:0,padding:"0.2rem",backgroundColor:"transparent",borderColor:"transparent"},onClick:function(){return a(f.a,{isOpenModal:!0,title:"Delete platform",name:"".concat(n),onDelete:function(){l(t),r()}})}},u.a.createElement("i",{className:"cui-trash icons font-lg"}))}))))};h.defaultProps={name:"",onDelete:function(){return null}};var P=h,v=t(295),E=function(e){var a=e.platforms,t=e.totalItems,n=e.pageSize,l=e.totalPages,r=e.currentPage,o=e.onChangePage,s=e.onDelete,c=a.length>0?a.map((function(e,a){return u.a.createElement("tr",{key:e.id},u.a.createElement(P,Object.assign({idx:a},e,{onDelete:s})))})):u.a.createElement("tr",{style:{color:"var(--secondary)"}},u.a.createElement("td",{colSpan:9,align:"center"},"Nothing found"," ",u.a.createElement("span",{role:"img","aria-label":"confused face"},"\ud83d\ude15")));return u.a.createElement(u.a.Fragment,null,u.a.createElement(d.a,{style:{background:"var(--white)"},responsive:!0,hover:!0},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{scope:"col"},"#"),u.a.createElement("th",{scope:"col"},"Platform"),u.a.createElement("th",{scope:"col"},"Action"))),u.a.createElement("tbody",null,c)),a.length>0?u.a.createElement(m.a,null,u.a.createElement(g.a,null,u.a.createElement(v.a,{items:a,totalItems:t,pageSize:n,totalPages:l,initialPage:r,onChangePage:o}))):null)};E.defaultProps={platforms:[],currentPage:null,pageSize:null,totalItems:null,totalPages:null,onChangePage:function(){return null},onDelete:function(){return null}};var j=E,O=t(108),y=t(361),N=t(400),k=t(293),C={name:""},M=function(e){Object(s.a)(t,e);var a=Object(c.a)(t);function t(){var e;Object(r.a)(this,t);for(var l=arguments.length,o=new Array(l),s=0;s<l;s++)o[s]=arguments[s];return(e=a.call.apply(a,[this].concat(o))).state=Object(n.a)({},C),e.handleInputChange=function(a){var t=a.target,n=t.name,l=t.value;e.setState(Object(O.a)({},n,l))},e.handleSubmit=function(a){a.preventDefault();var t=e.props,l=t.onCreatePlatform,r=t.onRequestClose;l(e.state),e.setState(Object(n.a)({},C)),r()},e}return Object(o.a)(t,[{key:"render",value:function(){var e=this.state.name;return u.a.createElement(y.a,{onSubmit:this.handleSubmit},u.a.createElement(N.a,{row:!0},u.a.createElement(g.a,null,u.a.createElement(k.a,{type:"text",name:"name",value:e,placeholder:"Platform name",onChange:this.handleInputChange}))),u.a.createElement(p.a,{color:"primary",onClick:this.handleSubmit},"Create"))}}]),t}(i.Component),S=t(358),D=t(290),w=Object(S.a)(M),I=function(e){Object(s.a)(t,e);var a=Object(c.a)(t);function t(){var e;Object(r.a)(this,t);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return(e=a.call.apply(a,[this].concat(s))).state={platforms:[],totalPlatforms:null,totalPages:null,perPage:null,currentPage:1},e.createPlatform=function(a){Object(D.b)(a).then((function(a){a?e.setState({platforms:[a].concat(Object(l.a)(e.state.platforms))}):console.log("Error while adding platform")}))},e.removePlatform=function(a){Object(D.d)(a).then((function(t){"Delete Successfully"===t.message?e.setState((function(e){return{platforms:e.platforms.filter((function(e){return e.id!==a}))}})):console.log("Error while deleting platform")}))},e.onChangePage=function(a){e.getData(a)},e.getData=function(a){Object(D.k)(a).then((function(a){var t={platforms:a.platforms,totalPlatforms:a.Count,totalPages:a.Page,perPage:a.perPage,currentPage:a.currentPage};e.setState(Object(n.a)(Object(n.a)({},e.state),t))}))},e}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.currentPage;this.getData(e)}},{key:"render",value:function(){var e=this,a=this.state,t=a.platforms,n=a.totalPlatforms,l=a.perPage,r=a.totalPages,o=a.currentPage;return u.a.createElement(u.a.Fragment,null,u.a.createElement(m.a,{style:{marginBottom:"1rem"}},u.a.createElement(g.a,null,u.a.createElement("h1",{style:{marginBottom:0,fontSize:24}},"Platforms"))),u.a.createElement(m.a,{style:{marginBottom:"1rem"}},u.a.createElement(g.a,null,u.a.createElement(b.a,null,(function(a){var t=a.showModal;return u.a.createElement(p.a,{color:"success",onClick:function(){return t(w,{isOpenModal:!0,title:"Create new platform",onCreatePlatform:e.createPlatform})}},u.a.createElement("i",{style:{marginRight:"0.2rem"},className:"fa fa-plus-circle"}),"Create")})))),u.a.createElement(m.a,null,u.a.createElement(g.a,null,u.a.createElement(j,{platforms:t,totalItems:n,pageSize:l,totalPages:r,currentPage:o,onChangePage:this.onChangePage,onDelete:this.removePlatform}))))}}]),t}(i.Component)}}]);
//# sourceMappingURL=38.0a10373b.chunk.js.map