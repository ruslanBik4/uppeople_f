{"version":3,"sources":["components/Admin/Analytics/Analytics.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"],"names":["Analytics","props","fetchRecruiters","a","getUsers","users","recruiters","staff","filter","user","role_id","setState","fetchCompanies","getCompanies","companies_result","selectedRecruiter","state","companies","company","vacancies","indexOf","id","fetchVacancies","selectedCompany","getVacancies","vacancies_result","vacancy","fetchTags","getTags","tags","fetchCandidatesData","selectedVacancy","selectedTag","selectedStartDate","selectedEndDate","getCandidatesAmountByStatuses","undefined","funnelData","data","fetchStatuses","getStatuses","statuses","selectedStatuses","handleRecruiterSelect","handleCompanySelect","handleVacancySelect","company_id","handleTagsSelect","handleStatusChange","handleDate","target","name","value","renderChart","result","Object","entries","reduceRight","acc","index","array","currentKey","currentValue","prev","prevKey","count","o","Symbol","iterator","Array","isArray","unsupportedIterableToArray","i","F","s","n","length","done","e","_e","f","TypeError","it","err","normalCompletion","didErr","step","next","_e2","reverse","status","selectedStatus","label","push","stat","color","percentage","reduce","acc_","parseFloat","toFixed","final_data","dynamicSlope","dynamicHeight","style","margin","width","height","text","type","categoryField","field","colorField","background","format","render","point","category","visible","date","Date","y","getFullYear","m","getMonth","firstDay","toJSON","slice","lastDay","this","prevProps","prevState","Row","marginBottom","Col","fontSize","xs","sm","md","lg","xl","FormGroup","className","options","isClearable","getOptionValue","getOptionLabel","placeholder","onChange","isMulti","Input","Component"],"mappings":"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","file":"static/js/57.3556057a.chunk.js","sourcesContent":["import React, {Component} from \"react\";\nimport {Col, FormGroup, Input, Row} from \"reactstrap\";\nimport Select from \"react-select\";\nimport {getUsers} from \"../../../utils/api/users\"; // вакансии\nimport {getCompanies} from \"../../../utils/api/company\"; // компании\nimport {getVacancies, getTags} from \"../../../utils/api/vacancy\"; // вакансии и теги\nimport {getStatuses, getCandidatesAmountByStatuses} from \"../../../utils/api/candidates\"; // вакансии и теги\nimport {\n  Chart,\n  ChartTitle,\n  ChartLegend,\n  ChartSeries,\n  ChartSeriesItem,\n  ChartTooltip,\n  ChartSeriesLabels,\n} from \"@progress/kendo-react-charts\";\n// Import the styles\nimport {styles} from \"../../../assets/css/analitycs.css\";\n\nexport default class Analytics extends Component {\n  constructor(props) {\n    super(props);\n\n    let date = new Date(), y = date.getFullYear(), m = date.getMonth();\n    let firstDay = new Date(y, m, 2).toJSON().slice(0, 10);\n    let lastDay = new Date(y, m + 1, 0).toJSON().slice(0, 10);\n\n    this.state = {\n      recruiters: [],\n      companies: [],\n      vacancies: [],\n      tags: [],\n      statuses: [],\n\n      selectedRecruiter: null,\n      selectedCompany: null,\n      selectedVacancy: null,\n      selectedTag: null,\n      selectedStatuses: null,\n      selectedStartDate: firstDay,\n      selectedEndDate: lastDay,\n\n      funnelData: null,\n      dynamicSlope: true,\n      dynamicHeight: false\n    };\n  }\n\n  componentDidMount() { // тут пишеться те, що потрібно підгрузити з АПІ\n    this.fetchRecruiters();\n    this.fetchCompanies();\n    this.fetchVacancies();\n    this.fetchTags();\n    // this.fetchCandidatesData();\n    this.fetchStatuses();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.selectedRecruiter !== prevState.selectedRecruiter ||\n      this.state.selectedCompany !== prevState.selectedCompany ||\n      this.state.selectedVacancy !== prevState.selectedVacancy ||\n      this.state.selectedTag !== prevState.selectedTag ||\n      this.state.selectedStatuses !== prevState.selectedStatuses ||\n      this.state.selectedStartDate !== prevState.selectedStartDate ||\n      this.state.selectedEndDate !== prevState.selectedEndDate) {\n      this.fetchCandidatesData();\n    }\n\n    if (this.state.selectedRecruiter !== prevState.selectedRecruiter) {\n      this.fetchCompanies();\n      this.fetchVacancies();\n    }\n\n    if (this.state.selectedCompany !== prevState.selectedCompany) {\n      this.fetchVacancies();\n    }\n  }\n\n  fetchRecruiters = async () => {\n    const users = await getUsers();\n    const recruiters = users.staff.filter((user) => user.role_id === 2); // recruiter\n\n    this.setState({recruiters});\n  };\n\n  fetchCompanies = async () => {\n    let companies_result = await getCompanies(0, 1, 1);\n    const {selectedRecruiter} = this.state;\n    const companies = companies_result.companies.filter((company) => company.vacancies > 0 &&\n      (selectedRecruiter !== null && company.recruiters.indexOf(selectedRecruiter.id) + 1 > 0 || selectedRecruiter === null));\n    this.setState({companies});\n  };\n\n  fetchVacancies = async () => {\n    const {selectedCompany, selectedRecruiter} = this.state;\n    const vacancies_result = await getVacancies(selectedCompany !== null ? selectedCompany.id : null, true, true);\n    const vacancies = vacancies_result.vacancies.filter((vacancy) =>\n      (selectedRecruiter !== null && vacancy.recruiters.indexOf(selectedRecruiter.id) + 1 > 0 || selectedRecruiter === null)\n    );\n    this.setState({vacancies});\n  };\n\n  fetchTags = async () => {\n    const tags = await getTags();\n    this.setState({tags});\n  };\n\n  fetchCandidatesData = async () => {\n    const {selectedRecruiter, selectedCompany, selectedVacancy, selectedTag, selectedStartDate, selectedEndDate} = this.state;\n    let funnelData = await getCandidatesAmountByStatuses(\n      selectedRecruiter ? selectedRecruiter.id : 0,\n      selectedCompany ? selectedCompany.id : 0,\n      selectedVacancy ? selectedVacancy.id : 0,\n      selectedTag ? selectedTag.id : 0,\n      selectedStartDate, selectedEndDate);\n    if (funnelData !== undefined) {\n      funnelData = funnelData.data;\n      this.setState({funnelData});\n    } else {\n      this.setState({funnelData: null});\n    }\n  };\n\n  fetchStatuses = async () => {\n    const statuses = await getStatuses();\n    this.setState({statuses});\n    this.setState({selectedStatuses: statuses});\n  };\n\n\n  handleRecruiterSelect = (selectedRecruiter) => {\n    this.setState({selectedRecruiter});\n  };\n\n  handleCompanySelect = (selectedCompany) => {\n    this.setState({selectedCompany});\n  };\n\n  handleVacancySelect = (selectedVacancy) => {\n    let {selectedCompany, companies} = this.state;\n    if (selectedVacancy !== null) {\n      selectedCompany = companies.filter((company) => company.id === selectedVacancy.company_id)[0];\n    }\n    this.setState({selectedVacancy, selectedCompany});\n  };\n\n  handleTagsSelect = (selectedTag) => {\n    this.setState({selectedTag});\n  };\n\n  handleStatusChange = (selectedStatuses) => {\n    this.setState({selectedStatuses});\n  };\n\n  handleDate = ({target: {name, value}}) => {\n    this.setState({[name]: value});\n  };\n\n  renderChart = () => {\n    const {funnelData, selectedStatuses} = this.state;\n\n    if (funnelData !== null && funnelData !== undefined) {\n      const result = Object.entries(funnelData).reduceRight(\n        (acc, [currentKey, currentValue], index, array) => {\n          const prev = array[index + 1];\n          if (prev) {\n            const [prevKey] = prev;\n            acc[currentKey] = {\n              ...currentValue,\n              count: acc[prevKey].count + currentValue.count,\n            };\n          } else {\n            acc[currentKey] = currentValue;\n          }\n          return acc;\n        },\n        {}\n      );\n\n      let data = [];\n      for (const [status, value] of Object.entries(result).reverse()) {\n        let in_statuses = selectedStatuses.filter((selectedStatus) => selectedStatus.label === status);\n        if (in_statuses.length > 0) {\n          data.push({\n            stat: status,\n            count: value.count,\n            color: value.color,\n            percentage: 100\n          });\n        }\n      }\n\n      data = data.reduce(\n        (acc_, currentValue, index, array) => {\n          const prev = array[index - 1];\n\n          if (prev) {\n            currentValue.percentage = (parseFloat(currentValue.count) * 100 / parseFloat(prev.count)).toFixed(0)\n          }\n\n          acc_[index] = currentValue;\n\n          return acc_;\n        },\n        {}\n      );\n\n      let final_data = [];\n      for (const [index, value] of Object.entries(data)) {\n        final_data.push({\n          stat: value.stat + ' ' + value.percentage + '%',\n          count: value.count,\n          color: value.color,\n        });\n      }\n\n      const tooltipRender = (({point = {}}) => (point.category));\n\n      const {dynamicSlope, dynamicHeight} = this.state;\n      return (\n\n        <Chart style={{margin: \"0 auto\", width: 300, height: 350}}>\n          <ChartTitle text=\"Recruitment funnel\"/>\n          <ChartSeries style={{height: 350}}>\n            <ChartSeriesItem\n              type=\"funnel\"\n              data={final_data}\n              categoryField=\"stat\"\n              field=\"count\"\n              colorField=\"color\"\n              dynamicHeight={dynamicHeight}\n              dynamicSlope={dynamicSlope}\n            >\n              <ChartSeriesLabels color=\"black\" background=\"none\" format=\"N0\"/>\n            </ChartSeriesItem>\n          </ChartSeries>\n          <ChartTooltip render={tooltipRender}/>\n          <ChartLegend visible={false}/>\n        </Chart>\n      );\n      // }\n      // else {\n      //   return (<p>No data found</p>);\n      // }\n    }\n\n  };\n\n\n  render() {\n    const {recruiters, selectedRecruiter} = this.state;\n    const {companies, selectedCompany} = this.state;\n    const {vacancies, selectedVacancy} = this.state;\n    const {tags, selectedTag} = this.state;\n    const {statuses, selectedStatuses} = this.state;\n    const {selectedStartDate, selectedEndDate} = this.state;\n    const {clearable} = true;\n\n    return (\n      <>\n        <Row style={{marginBottom: \"1rem\"}}>\n          <Col>\n            <h1 style={{marginBottom: 0, fontSize: 24}}>Recruitment funnel</h1>\n          </Col>\n        </Row>\n        <Row style={{marginBottom: \"1rem\"}}>\n          <Col xs=\"12\" sm=\"12\" md=\"12\" lg=\"4\" xl=\"4\">\n            <FormGroup className=\"filter-select\">\n              <label className=\"date-filter-label\">Filters</label>\n              <Select\n                style={{marginBottom: 15}}\n                value={selectedRecruiter}\n                options={recruiters}\n                isClearable\n                getOptionValue={(user) => user.id}\n                getOptionLabel={(user) => user.name}\n                placeholder=\"Recruiters\"\n                onChange={this.handleRecruiterSelect}\n              />\n            </FormGroup>\n            <FormGroup className=\"filter-select\">\n              <Select\n                style={{marginBottom: \"1rem\"}}\n                value={selectedCompany}\n                options={companies}\n                isClearable\n                getOptionValue={(company) => company.id}\n                getOptionLabel={(company) => company.name}\n                placeholder=\"Companies\"\n                onChange={this.handleCompanySelect}\n              />\n            </FormGroup>\n            <FormGroup className=\"filter-select\">\n              <Select\n                style={{marginBottom: \"1rem\"}}\n                value={selectedVacancy}\n                options={vacancies}\n                isClearable\n                getOptionValue={(vacancy) => vacancy.id}\n                getOptionLabel={(vacancy) => vacancy.label}\n                placeholder=\"Vacancies\"\n                onChange={this.handleVacancySelect}\n              />\n            </FormGroup>\n\n            {/*<FormGroup className=\"filter-select\" >*/}\n            {/*  <Select*/}\n            {/*    style={{marginBottom: \"1rem\"}}*/}\n            {/*    value={selectedTag}*/}\n            {/*    options={tags}*/}\n            {/*    getOptionValue={(tag) => tag.id}*/}\n            {/*    getOptionLabel={(tag) => tag.name}*/}\n            {/*    placeholder=\"Tags\"*/}\n            {/*    onChange={this.handleTagsSelect}*/}\n            {/*  />*/}\n            {/*</FormGroup>*/}\n            <FormGroup className=\"filter-select\">\n              <Select\n                isMulti\n                value={selectedStatuses}\n                options={statuses}\n                placeholder=\"Statuses\"\n                onChange={this.handleStatusChange}\n              />\n            </FormGroup>\n          </Col>\n          <Col xs=\"12\" sm=\"12\" md=\"12\" lg=\"4\" xl=\"4\">\n            <Row style={{marginBottom: \"1rem\"}}>\n              {this.renderChart()}\n            </Row>\n          </Col>\n          <Col lg={2} md={2}>\n            <FormGroup>\n              <label className=\"date-filter-label\">Date From</label>\n              <Input\n                id=\"date-from\"\n                type=\"date\"\n                name=\"selectedStartDate\"\n                value={selectedStartDate}\n                onChange={this.handleDate}\n              />\n            </FormGroup>\n          </Col>\n          <Col lg={2} md={2}>\n            <FormGroup>\n              <label className=\"date-filter-label\">Date To</label>\n              <Input\n                id=\"date-to\"\n                type=\"date\"\n                name=\"selectedEndDate\"\n                value={selectedEndDate}\n                onChange={this.handleDate}\n              />\n            </FormGroup>\n          </Col>\n        </Row>\n      </>\n\n    );\n  }\n}\n","import unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}"],"sourceRoot":""}