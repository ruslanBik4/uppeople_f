{"version":3,"sources":["components/shared/ModalToDelete.js","components/hoc/withModal.js","components/Admin/Links/TableRow.js","components/Admin/Links/Table.js","components/Admin/Links/CreateForm.js","components/Admin/Links/Links.js"],"names":["ModalToDelete","state","modal","props","isOpenModal","toggle","setState","onRequestClose","this","title","name","className","onDelete","isOpen","color","onClick","Component","withModal","WrappedComponent","toggleModal","nextProps","console","log","LinksTableRow","idx","id","link","href","rel","target","style","paddingLeft","showModal","hideModal","Button","margin","padding","backgroundColor","borderColor","defaultProps","LinksTable","links","linksJSX","length","map","key","colSpan","align","role","aria-label","Table","background","responsive","hover","scope","initialState","LinksCreateForm","handleInputChange","value","handleSubmit","event","preventDefault","onCreateLink","Form","onSubmit","FormGroup","row","Col","Input","type","placeholder","onChange","position","top","right","WithModalLinksCreateForm","Links","createLink","addLink","then","removeLink","deleteLink","data","message","filter","getDataForLinksPage","Row","marginBottom","fontSize","marginRight"],"mappings":"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","file":"static/js/48.096f5a9a.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Button, Modal, ModalBody, ModalHeader, ModalFooter } from \"reactstrap\";\r\n\r\nexport default class ModalToDelete extends Component {\r\n  state = {\r\n    modal: this.props.isOpenModal\r\n  };\r\n\r\n  toggle = () => {\r\n    this.setState(state => ({\r\n      modal: !state.modal\r\n    }));\r\n\r\n    const { onRequestClose } = this.props;\r\n    onRequestClose();\r\n  };\r\n\r\n  render() {\r\n    const { modal } = this.state;\r\n    const { title, name, className, onDelete } = this.props;\r\n\r\n    return (\r\n      <Modal\r\n        isOpen={modal}\r\n        toggle={this.toggle}\r\n        className={`modal-danger \" + ${className ? className : \"\"}`}\r\n      >\r\n        <ModalHeader toggle={this.toggle}>{title}</ModalHeader>\r\n        <ModalBody>{`Are you sure to delete ${name}?`}</ModalBody>\r\n        <ModalFooter>\r\n          <Button color=\"danger\" onClick={onDelete}>\r\n            Delete\r\n          </Button>{\" \"}\r\n          <Button color=\"secondary\" onClick={this.toggle}>\r\n            Cancel\r\n          </Button>\r\n        </ModalFooter>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Modal, ModalBody, ModalHeader } from \"reactstrap\";\r\n\r\nconst withModal = WrappedComponent =>\r\n  class withModal extends Component {\r\n    state = {\r\n      modal: false\r\n    };\r\n\r\n    static getDerivedStateFromProps(nextProps) {\r\n      console.log(\"ПРОПСЫ\", nextProps);\r\n      if (nextProps) {\r\n        return {\r\n          modal: nextProps.isOpenModal\r\n        };\r\n      }\r\n\r\n      return null;\r\n    }\r\n\r\n    toggleModal = () => {\r\n      this.setState(state => ({\r\n        modal: !state.modal\r\n      }));\r\n\r\n      const { onRequestClose } = this.props;\r\n      onRequestClose();\r\n    };\r\n\r\n    render() {\r\n      const { modal } = this.state;\r\n      const { title, className } = this.props;\r\n\r\n      // const renderModalTitle = () => {\r\n      //   switch (title) {\r\n      //     case \"new contact\":\r\n      //       return \"New Contact\";\r\n      //     case \"edit contact\":\r\n      //       return \"Edit Contact\";\r\n      //     case \"appoint interview\":\r\n      //       return \"Appoint Interview\";\r\n      //     case \"add vacancy\":\r\n      //       return \"Add vacancy\";\r\n      //     case \"new user\":\r\n      //       return \"New user\";\r\n      //     case \"create new link\":\r\n      //       return \"Create new link\";\r\n      //     default:\r\n      //       return \"Modal\";\r\n      //   }\r\n      // };\r\n\r\n      return (\r\n        <Modal\r\n          isOpen={modal}\r\n          toggle={this.toggleModal}\r\n          className={`modal-primary \" + ${className ? className : \"\"}`}\r\n        >\r\n          <ModalHeader toggle={this.toggleModal}>{title}</ModalHeader>\r\n          <ModalBody>{modal && <WrappedComponent {...this.props} />}</ModalBody>\r\n        </Modal>\r\n      );\r\n    }\r\n  };\r\n\r\nexport default withModal;\r\n","// Core\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Button } from \"reactstrap\";\r\n// Components\r\nimport ModalToDelete from \"../../shared/ModalToDelete\";\r\n// Context\r\nimport { ModalConsumer } from \"../../../providers/ModalProvider\";\r\n\r\nconst LinksTableRow = ({ idx, id, title, link, onDelete }) => (\r\n  <>\r\n    <td>{idx + 1}</td>\r\n    <td>{title}</td>\r\n    <td>\r\n      <a href={`${link}`} rel=\"noopener noreferrer\" target=\"_blank\">\r\n        {link}\r\n      </a>\r\n    </td>\r\n    <td style={{ paddingLeft: \"1.5rem\" }}>\r\n      <ModalConsumer>\r\n        {({ showModal, hideModal }) => (\r\n          <Button\r\n            title=\"delete\"\r\n            style={{\r\n              margin: 0,\r\n              padding: \"0.2rem\",\r\n              backgroundColor: \"transparent\",\r\n              borderColor: \"transparent\"\r\n            }}\r\n            onClick={() =>\r\n              showModal(ModalToDelete, {\r\n                isOpenModal: true,\r\n                title: \"Delete link\",\r\n                name: `${title}`,\r\n                onDelete: () => {\r\n                  onDelete(id);\r\n                  hideModal();\r\n                }\r\n              })\r\n            }\r\n          >\r\n            <i className=\"cui-trash icons font-lg\" />\r\n          </Button>\r\n        )}\r\n      </ModalConsumer>\r\n    </td>\r\n  </>\r\n);\r\n\r\nLinksTableRow.propTypes = {\r\n  idx: PropTypes.number.isRequired,\r\n  id: PropTypes.number.isRequired,\r\n  title: PropTypes.string,\r\n  link: PropTypes.string,\r\n  onDelete: PropTypes.func\r\n};\r\n\r\nLinksTableRow.defaultProps = {\r\n  title: \"\",\r\n  link: \"\",\r\n  onDelete: () => null\r\n};\r\n\r\nexport default LinksTableRow;\r\n","// Core\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Table } from \"reactstrap\";\r\n// Components\r\nimport LinksTableRow from \"./TableRow\";\r\n\r\nconst LinksTable = ({ links, onDelete }) => {\r\n  const linksJSX =\r\n    links.length > 0 ? (\r\n      links.map((link, idx) => (\r\n        <tr key={link.id}>\r\n          <LinksTableRow idx={idx} {...link} onDelete={onDelete} />\r\n        </tr>\r\n      ))\r\n    ) : (\r\n      <tr style={{ color: \"var(--secondary)\" }}>\r\n        <td colSpan={9} align=\"center\">\r\n          Nothing found{\" \"}\r\n          <span role=\"img\" aria-label=\"confused face\">\r\n            😕\r\n          </span>\r\n        </td>\r\n      </tr>\r\n    );\r\n\r\n  return (\r\n    <Table style={{ background: \"var(--white)\" }} responsive hover>\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\">#</th>\r\n          <th scope=\"col\">Title</th>\r\n          <th scope=\"col\">Link</th>\r\n          <th scope=\"col\">Action</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>{linksJSX}</tbody>\r\n    </Table>\r\n  );\r\n};\r\n\r\nLinksTable.propTypes = {\r\n  links: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequered,\r\n      title: PropTypes.string,\r\n      link: PropTypes.string\r\n    })\r\n  ),\r\n  onDelete: PropTypes.func\r\n};\r\n\r\nLinksTable.defaultProps = {\r\n  links: [],\r\n  onDelete: () => null\r\n};\r\n\r\nexport default LinksTable;\r\n","// Core\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Button, Col, FormGroup, Input, Form } from \"reactstrap\";\r\n\r\nconst initialState = {\r\n  title: \"\",\r\n  link: \"\"\r\n};\r\n\r\nexport default class LinksCreateForm extends Component {\r\n  static propTypes = {\r\n    onCreateLink: PropTypes.func.isRequired,\r\n    onRequestClose: PropTypes.func.isRequired\r\n  };\r\n\r\n  state = {\r\n    ...initialState\r\n  };\r\n\r\n  handleInputChange = ({ target: { name, value } }) => {\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    const { onCreateLink, onRequestClose } = this.props;\r\n    const link = this.state;\r\n\r\n    onCreateLink(link);\r\n\r\n    this.setState({ ...initialState });\r\n    onRequestClose();\r\n  };\r\n\r\n  render() {\r\n    const { title, link } = this.state;\r\n\r\n    return (\r\n      <Form onSubmit={this.handleSubmit}>\r\n        <FormGroup row>\r\n          <Col>\r\n            <Input\r\n              type=\"text\"\r\n              name=\"title\"\r\n              value={title}\r\n              placeholder=\"Title\"\r\n              onChange={this.handleInputChange}\r\n            />\r\n          </Col>\r\n        </FormGroup>\r\n        <FormGroup row>\r\n          <Col>\r\n            <Input\r\n              type=\"text\"\r\n              name=\"link\"\r\n              value={link}\r\n              placeholder=\"Link\"\r\n              onChange={this.handleInputChange}\r\n            />\r\n            <i\r\n              style={{\r\n                position: \"absolute\",\r\n                top: \"0.6rem\",\r\n                right: \"1.75rem\"\r\n              }}\r\n              className=\"icon-link icons font-lg\"\r\n            />\r\n          </Col>\r\n        </FormGroup>\r\n        <Button color=\"primary\" onClick={this.handleSubmit}>\r\n          Create\r\n        </Button>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n","// Core\r\nimport React, { Component } from \"react\";\r\nimport { Button, Col, Row } from \"reactstrap\";\r\n// Components\r\nimport LinksTable from \"./Table\";\r\nimport LinksCreateForm from \"./CreateForm\";\r\n// HOC\r\nimport withModal from \"../../hoc/withModal\";\r\n// Context\r\nimport { ModalConsumer } from \"../../../providers/ModalProvider\";\r\n// Instruments\r\nimport { getDataForLinksPage, addLink, deleteLink } from \"../../../utils/api\";\r\n\r\nconst WithModalLinksCreateForm = withModal(LinksCreateForm);\r\n\r\nexport default class Links extends Component {\r\n  state = {\r\n    links: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    getDataForLinksPage().then(links => {\r\n      this.setState({\r\n        links\r\n      });\r\n    });\r\n  }\r\n\r\n  createLink = link => {\r\n    addLink(link).then(link => {\r\n      link\r\n        ? this.setState({\r\n            links: [link, ...this.state.links]\r\n          })\r\n        : console.log(\"Error while adding link\");\r\n    });\r\n  };\r\n\r\n  removeLink = id => {\r\n    deleteLink(id).then(data => {\r\n      data.message === \"Delete Successfully\"\r\n        ? this.setState(state => ({\r\n            links: state.links.filter(link => link.id !== id)\r\n          }))\r\n        : console.log(\"Error while deleting link\");\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { links } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <Row style={{ marginBottom: \"1rem\" }}>\r\n          <Col>\r\n            <h1 style={{ marginBottom: 0, fontSize: 24 }}>Links</h1>\r\n          </Col>\r\n        </Row>\r\n        <Row style={{ marginBottom: \"1rem\" }}>\r\n          <Col>\r\n            <ModalConsumer>\r\n              {({ showModal }) => (\r\n                <Button\r\n                  color=\"success\"\r\n                  onClick={() =>\r\n                    showModal(WithModalLinksCreateForm, {\r\n                      isOpenModal: true,\r\n                      title: \"Create new link\",\r\n                      onCreateLink: this.createLink\r\n                    })\r\n                  }\r\n                >\r\n                  <i\r\n                    style={{ marginRight: \"0.2rem\" }}\r\n                    className=\"fa fa-plus-circle\"\r\n                  />\r\n                  Create\r\n                </Button>\r\n              )}\r\n            </ModalConsumer>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <LinksTable links={links} onDelete={this.removeLink} />\r\n          </Col>\r\n        </Row>\r\n      </>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}